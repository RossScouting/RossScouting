<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Track and Field Simulator</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-family: Arial, sans-serif;
        }
        .track-container {
            position: relative;
            width: 600px;
            height: 300px;
        }
        .track {
            position: absolute;
            width: 100%;
            height: 100%;
            border: 5px solid black;
            border-radius: 50%;
            background: lightgray;
        }
        .start-line {
            position: absolute;
            width: 5px;
            height: 40px;
            background: red;
            left: 290px;
            top: 250px;
        }
        .runner {
            position: absolute;
            width: 20px;
            height: 20px;
            background: red;
            border-radius: 50%;
        }
        #raceTimer {
            font-size: 20px;
            margin: 10px;
        }
    </style>
</head>
<body>
    <h1>Track and Field Simulator</h1>
    <label>Race Distance (m): 
        <input type="number" id="raceDistance" value="400">
    </label>
    <label>Runner 1 Time (s): 
        <input type="number" id="runner1Time" value="50">
    </label>
    <label>Runner 2 Time (s): 
        <input type="number" id="runner2Time" value="55">
    </label>
    <button onclick="startRace()">Start Race</button>
    
    <div id="raceTimer">Time: 0.00s</div>
    
    <div class="track-container">
        <div class="track"></div>
        <div class="start-line"></div>
        <div class="runner" id="runner1"></div>
        <div class="runner" id="runner2" style="background: blue;"></div>
    </div>
    
    <script>
        function startRace() {
            const time1 = parseFloat(document.getElementById('runner1Time').value);
            const time2 = parseFloat(document.getElementById('runner2Time').value);
            
            const runner1 = document.getElementById('runner1');
            const runner2 = document.getElementById('runner2');
            const raceTimer = document.getElementById('raceTimer');
            
            const trackLength = 400;
            const straightLength = 100;
            const curveLength = 100;
            const totalTime = Math.max(time1, time2);
            
            let startTime = null;
            
            function getPosition(progress) {
                if (progress <= 100) {
                    return { x: 300 + (progress / 100) * 200, y: 250 };
                } else if (progress <= 200) {
                    let angle = ((progress - 100) / 100) * Math.PI / 2;
                    return { x: 500 - 100 * Math.sin(angle), y: 250 - 100 * (1 - Math.cos(angle)) };
                } else if (progress <= 300) {
                    return { x: 300 - ((progress - 200) / 100) * 200, y: 150 };
                } else {
                    let angle = ((progress - 300) / 100) * Math.PI / 2;
                    return { x: 100 + 100 * Math.sin(angle), y: 150 + 100 * (1 - Math.cos(angle)) };
                }
            }
            
            function updateRace(timestamp) {
                if (!startTime) startTime = timestamp;
                let elapsed = (timestamp - startTime) / 1000;
                raceTimer.innerText = `Time: ${elapsed.toFixed(2)}s`;
                
                if (elapsed <= time1) {
                    let progress1 = (elapsed / time1) * trackLength;
                    let pos1 = getPosition(progress1);
                    runner1.style.left = `${pos1.x}px`;
                    runner1.style.top = `${pos1.y}px`;
                }
                
                if (elapsed <= time2) {
                    let progress2 = (elapsed / time2) * trackLength;
                    let pos2 = getPosition(progress2);
                    runner2.style.left = `${pos2.x}px`;
                    runner2.style.top = `${pos2.y}px`;
                }
                
                if (elapsed < totalTime) {
                    requestAnimationFrame(updateRace);
                }
            }
            requestAnimationFrame(updateRace);
        }
    </script>
</body>
</html>
